<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Magellan by Dave Barbalato</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Magellan</h1>
        <p>JavaScript Latitude and Longitude Validation and Formatting</p>

        <p class="view"><a href="https://github.com/dbarbalato/magellan">View the Project on GitHub <small>dbarbalato/magellan</small></a></p>


        <ul>
          <li><a href="https://github.com/dbarbalato/magellan/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/dbarbalato/magellan/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="javascript:document.forms[0].submit();">Buy Me A <strong>Beer</strong></a></li>
        </ul>
        
        <form style="display: none;" action="https://www.paypal.com/cgi-bin/webscr" method="post">
          <input type="hidden" name="cmd" value="_donations">
          <input type="hidden" name="business" value="dbarbalato@gmail.com">
          <input type="hidden" name="lc" value="US">
          <input type="hidden" name="item_name" value="Dave Barbalato Beer Fund">
          <input type="hidden" name="no_note" value="0">
          <input type="hidden" name="currency_code" value="USD">
          <input type="hidden" name="bn" value="PP-DonationsBF:btn_donate_LG.gif:NonHostedGuest">
          <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
          <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
        </form>

      </header>
      <section>
        <h2>Introducing Magellan</h2>

<p>From validating the rules of composition for latitudes and longitudes to deciding on the format of the output, working with geo-coordinates can be a pretty big pain. </p>

<p>Until Magellan, that is...</p>

<p>Now, working with coordinates can be as simple as:</p>

<pre><code>// decimal-degrees to degrees-minutes-seconds
magellan(12.3456).latitude().toDMS()      // 12°20'44.1600"N
magellan(-12.3456).latitude().toDMS(' ')  // 12° 20' 44.1600" S
magellan(123.456).longitude().toDMS()     // 123°27'21.6000"E
magellan(-123.456).longitude().toDMS(' ') // 123° 27' 21.6000" W

// or degrees-minutes-seconds to decimal-degrees
magellan('12°20\'44.1600"N').latitude().toDD()   // 12.3456
magellan('12°20\'44.1600"S').latitude().toDD()   // -12.3456
magellan('123°27\'21.6000"E').longitude().toDD() // 123.4560
magellan('123°27\'21.6000"W').longitude().toDD() // -123.4560

// or degrees and decimal minutes
magellan('12°20.7402\'N').latitude().toDD()   // 12.3456
magellan('12°20.7402\'S').latitude().toDD()   // -12.3456
magellan('123°27.4020\'E').longitude().toDD() // 123.4560
magellan('123°27.4020\'W').longitude().toDD() // -123.4560

</code></pre>

<p>All nice and gussied up for ya'!</p>

<h2>Getting Started</h2>

<p>Magellan is designed to fit seamlessly into your application environment. It can be used standalone, as a <code>&lt;script&gt;</code> include on your page, or can be loaded as a CommonJS or AMD module.</p>

<p>To start using Magellan is simple. First, download the source file and include in your project. You can embed Magellan into your app using one of the following methods:</p>

<h3>In an HTML Document</h3>

<pre><code>&lt;!-- Somewhere in your HTML file --&gt;
&lt;script src="/path/to/magellan.js" type="text/javascript"&gt;&lt;/script&gt;
</code></pre>

<h3>In a CommonJS environment (e.g. NodeJS)</h3>

<pre><code>var magellan = require('/path/to/magellan')
</code></pre>

<h3>In an AMD environment (e.g. RequireJS)</h3>

<pre><code>require(['/path/to/magellan'], function(magellan) { ... }
</code></pre>

<h2>Basic Usage</h2>

<h3>Initializing a Magellan chain</h3>

<p>Magellan was designed with flexibility in mind, and is capable of receiving your coordinate inputs in a number of ways:</p>

<pre><code>// degrees-decimal input formats
magellan(12.3456)                         // positive number
magellan(-12.3456)                        // negative number
magellan('12.3456')                       // string in degrees-decimal format (can also start with +/-)
magellan(12.3456, 'E')                    // with a 2nd argument indicating the compass direction [NSEW]

// degrees-minutes-seconds input formats
magellan('123')                           // just degrees (or just degrees and minutes)
magellan('12°34\'56.7890"S')              // degrees, minutes, seconds, milliseconds and direction
magellan('12 34 56 N')                    // space-delimited string in degrees-minutes-seconds format
magellan('N12 34 56')                     // same as above, with leading compass direction

// degrees-minutes-decimal input formats
magellan('12°34.56S')              // degrees, minutes, seconds, milliseconds and direction
magellan('12 34.56 N')                    // space-delimited string in degrees-minutes-seconds format
magellan('N12 34.56')                     // same as above, with leading compass direction
</code></pre>

<h3>Working with a parsed coordinate</h3>

<p>Once you have an initialized Magellan chain, you can grab your parsed coordinate:</p>

<pre><code>magellan('12°34\'56.7890"S').coordinate  // {degrees: 12, minutes: 34, seconds: 56.789, direction: 'S'}
</code></pre>

<p>Or if you are interested in formatting your coordinate, you can use the more interesting features below:</p>

<pre><code>magellan(12.3456).toDD()        // print 12.3456 in +/-DD.dddd format
magellan('123').toDMS()                    // print 12.3456 in DD°MM'SS.mmmmm" format
magellan('123').toDMS('_')                 // same as above, except delimit the output with '_' character
magellan(12.3456).latitude()               // treat 12.3456 as latitude
magellan(12.3456).latitude().toDD()        // print 12.3456 as latitude in +/-DD.dddd format

magellan(12.3456).longitude()              // treat as longitude, ready for chained methods seen above
</code></pre>

<h3>Comparing coordinates</h3>

<p>With version 1.0.2, the ability to compare equality in coordinates has been added. So now, for example, you can do the following:</p>

<pre><code>
var coord1 = magellan(123.456).longitude();
var coord2 = magellan('123°27\'21.6000"E')
coord1.equals(coord2)                       // true
coord2.equals(magellan(123.456)             // true
coord1.equals(magellan(-123.456))           // false
</code></pre>

<h3>A word on using <code>.latitude()</code> and <code>.longitude()</code>
</h3>

<p><code>.latitude()</code> and <code>.longitude()</code> applied to a Magellan chain act as casts, essentially converting the parsed coordinates into a latitude or longitude, respectively. In doing so, these functions perform basic validation. In the event that a validation rule fails, the function will return <code>null</code>, breaking the chain.</p>

<p>The validation rules are as follows:</p>

<pre><code>1. A latitude must not exceed +/- 90 degrees. A longitude must not exceed +/- 180 degrees.

2. Minutes and seconds must be less than 60.

3. If chaining .latitude(), compass direction (if present) must be either 'N' or 'S'. 
   'E' or 'W' when chaining .longitude()
</code></pre>

<h2>Authors and Contributors</h2>

<p>If interested in contributing, contact Dave Barbalato (<a href="https://github.com/dbarbalato" class="user-mention">@dbarbalato</a>)</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/dbarbalato">Dave Barbalato (dbarbalato)</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
